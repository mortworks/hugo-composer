{{/* composer/render-block.html — universal block renderer */}}

{{- $block := . -}}

{{- if and (isset $block "content") (isset $block "title") -}}
  <section id="{{ $block.id }}" class="composer-block composer-block--{{ $block.type }}">
    {{- with $block.title }}
      <h2 class="composer-block__title">{{ . }}</h2>
    {{- end }}
    {{- with $block.content }}
      <div class="composer-block__content">
        {{ . | markdownify }}
      </div>
    {{- end }}
  </section>
{{- else -}}
  <div class="template-error">
    ⚠ render-block called with unsupported payload.<br>
    <pre>{{ $block | jsonify (dict "indent" "  ") }}</pre>
  </div>
{{- end -}}
